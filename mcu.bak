EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:diode
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm32
LIBS:ESD_Protection
LIBS:project_library
LIBS:midi_grid-cache
EELAYER 25 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 3 5
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L STM32F411RETx U5
U 1 1 5A206318
P 8000 4500
F 0 "U5" H 5200 6425 50  0000 L BNN
F 1 "STM32F411RCT6" H 10800 6425 50  0000 R BNN
F 2 "Housings_QFP:LQFP-64_10x10mm_Pitch0.5mm" H 10800 6375 50  0001 R TNN
F 3 "" H 8000 4500 50  0001 C CNN
	1    8000 4500
	1    0    0    -1  
$EndComp
Text Label 11000 2900 0    60   ~ 0
PWM_RED1
Text Label 11000 3000 0    60   ~ 0
PWM_RED2
Text Label 11000 3100 0    60   ~ 0
PWM_RED3
Text Label 11000 3200 0    60   ~ 0
PWM_RED4
Entry Wire Line
	12200 2900 12300 2800
Entry Wire Line
	12200 3000 12300 2900
Entry Wire Line
	12200 3100 12300 3000
Entry Wire Line
	12200 3200 12300 3100
Text HLabel 13050 2800 2    60   Output ~ 0
PWM_RED[1..4]
Text Label 11000 3500 0    60   ~ 0
PWM_GREEN1
Text Label 11000 3600 0    60   ~ 0
PWM_GREEN2
Text Label 11000 4600 0    60   ~ 0
PWM_GREEN3
Text Label 11000 4700 0    60   ~ 0
PWM_GREEN4
Entry Wire Line
	12200 3500 12300 3400
Entry Wire Line
	12200 3600 12300 3500
Entry Wire Line
	12200 4600 12300 4500
Entry Wire Line
	12200 4700 12300 4600
Text HLabel 12500 3400 2    60   Output ~ 0
PWM_GREEN[1..4]
Text Label 11000 5200 0    60   ~ 0
PWM_BLUE1
Text Label 11000 5300 0    60   ~ 0
PWM_BLUE2
Text Label 11000 5400 0    60   ~ 0
PWM_BLUE3
Text Label 11000 5500 0    60   ~ 0
PWM_BLUE4
Entry Wire Line
	12200 5200 12300 5100
Entry Wire Line
	12200 5300 12300 5200
Entry Wire Line
	12200 5400 12300 5300
Entry Wire Line
	12200 5500 12300 5400
Text HLabel 13100 5100 2    60   Output ~ 0
PWM_BLUE[1..4]
Wire Wire Line
	10900 2900 12200 2900
Wire Wire Line
	10900 3000 12200 3000
Wire Wire Line
	10900 3100 12200 3100
Wire Wire Line
	10900 3200 12200 3200
Wire Bus Line
	12300 2800 13050 2800
Wire Bus Line
	12300 2800 12300 3100
Wire Wire Line
	10900 3500 12200 3500
Wire Wire Line
	10900 3600 12200 3600
Wire Bus Line
	12300 3400 12500 3400
Wire Bus Line
	12300 3400 12300 4600
Wire Wire Line
	10900 4600 12200 4600
Wire Wire Line
	10900 4700 12200 4700
Wire Wire Line
	10900 5200 12200 5200
Wire Wire Line
	10900 5300 12200 5300
Wire Wire Line
	10900 5400 12200 5400
Wire Wire Line
	10900 5500 12200 5500
Wire Bus Line
	12300 5100 13100 5100
Wire Bus Line
	12300 5100 12300 5400
Wire Wire Line
	7800 6400 7800 6600
Wire Wire Line
	7800 6500 7900 6500
Wire Wire Line
	7900 6500 7900 6400
Connection ~ 7800 6500
Wire Wire Line
	8000 6400 8000 6600
Wire Wire Line
	8100 6400 8100 6500
Wire Wire Line
	8200 6400 8200 6600
Wire Wire Line
	8100 6500 8200 6500
Connection ~ 8200 6500
$Comp
L GND #PWR082
U 1 1 5A2085A5
P 8000 6600
F 0 "#PWR082" H 8000 6350 50  0001 C CNN
F 1 "GND" H 8000 6450 50  0000 C CNN
F 2 "" H 8000 6600 50  0001 C CNN
F 3 "" H 8000 6600 50  0001 C CNN
	1    8000 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR083
U 1 1 5A2085C5
P 8200 6600
F 0 "#PWR083" H 8200 6350 50  0001 C CNN
F 1 "GND" H 8200 6450 50  0000 C CNN
F 2 "" H 8200 6600 50  0001 C CNN
F 3 "" H 8200 6600 50  0001 C CNN
	1    8200 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR084
U 1 1 5A2085DB
P 7800 6600
F 0 "#PWR084" H 7800 6350 50  0001 C CNN
F 1 "GND" H 7800 6450 50  0000 C CNN
F 2 "" H 7800 6600 50  0001 C CNN
F 3 "" H 7800 6600 50  0001 C CNN
	1    7800 6600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 2100 8100 2500
Wire Wire Line
	8100 2300 8000 2300
Wire Wire Line
	8000 2300 8000 2500
Connection ~ 8100 2300
Wire Wire Line
	7800 2100 7800 2500
Wire Wire Line
	7900 2500 7900 2300
Wire Wire Line
	7900 2300 7800 2300
Connection ~ 7800 2300
$Comp
L +3.3V #PWR085
U 1 1 5A208727
P 7800 2100
F 0 "#PWR085" H 7800 1950 50  0001 C CNN
F 1 "+3.3V" H 7800 2240 50  0000 C CNN
F 2 "" H 7800 2100 50  0001 C CNN
F 3 "" H 7800 2100 50  0001 C CNN
	1    7800 2100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR086
U 1 1 5A20873F
P 8100 2100
F 0 "#PWR086" H 8100 1950 50  0001 C CNN
F 1 "+3.3V" H 8100 2240 50  0000 C CNN
F 2 "" H 8100 2100 50  0001 C CNN
F 3 "" H 8100 2100 50  0001 C CNN
	1    8100 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	10900 4200 14600 4200
Wire Wire Line
	10900 4300 14600 4300
Text Label 11000 4200 0    60   ~ 0
SWDIO
Text Label 11000 4300 0    60   ~ 0
SWDCLK
$Comp
L Conn_01x04_Male J4
U 1 1 5A208C3F
P 14800 4200
F 0 "J4" H 14800 4400 50  0000 C CNN
F 1 "Conn_01x04_Male" H 14500 3900 50  0000 C CNN
F 2 "Connectors_Molex:Molex_KK-6410-04_04x2.54mm_Straight" H 14800 4200 50  0001 C CNN
F 3 "" H 14800 4200 50  0001 C CNN
	1    14800 4200
	-1   0    0    -1  
$EndComp
$Comp
L +3.3V #PWR087
U 1 1 5A208D41
P 14500 4000
F 0 "#PWR087" H 14500 3850 50  0001 C CNN
F 1 "+3.3V" H 14500 4140 50  0000 C CNN
F 2 "" H 14500 4000 50  0001 C CNN
F 3 "" H 14500 4000 50  0001 C CNN
	1    14500 4000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR088
U 1 1 5A208D7D
P 14500 4500
F 0 "#PWR088" H 14500 4250 50  0001 C CNN
F 1 "GND" H 14500 4350 50  0000 C CNN
F 2 "" H 14500 4500 50  0001 C CNN
F 3 "" H 14500 4500 50  0001 C CNN
	1    14500 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	14600 4400 14500 4400
Wire Wire Line
	14500 4400 14500 4500
Wire Wire Line
	14600 4100 14500 4100
Wire Wire Line
	14500 4100 14500 4000
Text Label 4300 4500 0    60   ~ 0
GRID_BUTTON1
Text Label 4300 4600 0    60   ~ 0
GRID_BUTTON2
Text Label 4300 4700 0    60   ~ 0
GRID_BUTTON3
Text Label 4300 4800 0    60   ~ 0
GRID_BUTTON4
Entry Wire Line
	4200 4500 4100 4400
Entry Wire Line
	4200 4600 4100 4500
Entry Wire Line
	4200 4700 4100 4600
Entry Wire Line
	4200 4800 4100 4700
Text HLabel 3800 4400 0    60   Input ~ 0
GRID_BUTTON[1..4]
Wire Wire Line
	5100 4500 4200 4500
Wire Wire Line
	5100 4600 4200 4600
Wire Wire Line
	5100 4700 4200 4700
Wire Wire Line
	5100 4800 4200 4800
Wire Bus Line
	4100 4400 3800 4400
Wire Bus Line
	4100 4400 4100 4700
Wire Wire Line
	13400 4100 10900 4100
Wire Wire Line
	13500 4000 10900 4000
Wire Wire Line
	13500 3400 13500 4000
Wire Wire Line
	13400 3300 13400 4100
Text HLabel 14800 3300 2    60   BiDi ~ 0
USB_DP
Text HLabel 14800 3400 2    60   BiDi ~ 0
USB_DM
Text Label 11000 3700 0    60   ~ 0
COL1
Text Label 11000 3800 0    60   ~ 0
COL2
Text Label 11000 3900 0    60   ~ 0
COL3
Text Label 11000 3300 0    60   ~ 0
COL4
Text Label 11000 3400 0    60   ~ 0
COL5
Text Label 11000 4400 0    60   ~ 0
COL6
$Comp
L USBUF U4
U 1 1 5A207E27
P 14200 3300
F 0 "U4" H 13950 3500 50  0000 C CNN
F 1 "USBUF" H 13900 3000 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-363_SC-70-6" H 14200 2950 50  0001 C CNN
F 3 "" H 14200 3300 50  0001 C CNN
	1    14200 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	13500 3400 13800 3400
Wire Wire Line
	13800 3300 13400 3300
$Comp
L GND #PWR089
U 1 1 5A2083F4
P 13700 3600
F 0 "#PWR089" H 13700 3350 50  0001 C CNN
F 1 "GND" H 13700 3450 50  0000 C CNN
F 2 "" H 13700 3600 50  0001 C CNN
F 3 "" H 13700 3600 50  0001 C CNN
	1    13700 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	13800 3500 13700 3500
Wire Wire Line
	13700 3500 13700 3600
Wire Wire Line
	14800 3300 14600 3300
Wire Wire Line
	14600 3400 14800 3400
Text HLabel 3800 4900 0    60   Input ~ 0
BUTTON1
Text HLabel 3800 5000 0    60   Input ~ 0
BUTTON2
Text HLabel 3800 5500 0    60   Input ~ 0
ROTARY1_A
Text HLabel 3800 5600 0    60   Input ~ 0
ROTARY1_B
Text HLabel 3800 5900 0    60   Input ~ 0
ROTARY2_A
Text HLabel 3800 6000 0    60   Input ~ 0
ROTARY2_B
Wire Wire Line
	3800 4900 5100 4900
Wire Wire Line
	3800 5000 5100 5000
Wire Wire Line
	5100 5500 3800 5500
Wire Wire Line
	3800 5600 5100 5600
Wire Wire Line
	5100 5900 3800 5900
Wire Wire Line
	3800 6000 5100 6000
$Comp
L C_Small C6
U 1 1 5A28A11A
P 8500 2200
F 0 "C6" H 8600 2250 50  0000 L CNN
F 1 "100nF" H 8600 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 8500 2200 50  0001 C CNN
F 3 "" H 8500 2200 50  0001 C CNN
	1    8500 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR090
U 1 1 5A28A121
P 8500 2300
F 0 "#PWR090" H 8500 2050 50  0001 C CNN
F 1 "GND" H 8500 2150 50  0000 C CNN
F 2 "" H 8500 2300 50  0001 C CNN
F 3 "" H 8500 2300 50  0001 C CNN
	1    8500 2300
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR091
U 1 1 5A28A127
P 8500 2100
F 0 "#PWR091" H 8500 1950 50  0001 C CNN
F 1 "+3.3V" H 8500 2240 50  0000 C CNN
F 2 "" H 8500 2100 50  0001 C CNN
F 3 "" H 8500 2100 50  0001 C CNN
	1    8500 2100
	1    0    0    -1  
$EndComp
$Comp
L C_Small C7
U 1 1 5A28A4C6
P 8900 2200
F 0 "C7" H 9000 2250 50  0000 L CNN
F 1 "100nF" H 9000 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 8900 2200 50  0001 C CNN
F 3 "" H 8900 2200 50  0001 C CNN
	1    8900 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR092
U 1 1 5A28A4CC
P 8900 2300
F 0 "#PWR092" H 8900 2050 50  0001 C CNN
F 1 "GND" H 8900 2150 50  0000 C CNN
F 2 "" H 8900 2300 50  0001 C CNN
F 3 "" H 8900 2300 50  0001 C CNN
	1    8900 2300
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR093
U 1 1 5A28A4D2
P 8900 2100
F 0 "#PWR093" H 8900 1950 50  0001 C CNN
F 1 "+3.3V" H 8900 2240 50  0000 C CNN
F 2 "" H 8900 2100 50  0001 C CNN
F 3 "" H 8900 2100 50  0001 C CNN
	1    8900 2100
	1    0    0    -1  
$EndComp
$Comp
L C_Small C8
U 1 1 5A28A516
P 9300 2200
F 0 "C8" H 9400 2250 50  0000 L CNN
F 1 "100nF" H 9400 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 9300 2200 50  0001 C CNN
F 3 "" H 9300 2200 50  0001 C CNN
	1    9300 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR094
U 1 1 5A28A51C
P 9300 2300
F 0 "#PWR094" H 9300 2050 50  0001 C CNN
F 1 "GND" H 9300 2150 50  0000 C CNN
F 2 "" H 9300 2300 50  0001 C CNN
F 3 "" H 9300 2300 50  0001 C CNN
	1    9300 2300
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR095
U 1 1 5A28A522
P 9300 2100
F 0 "#PWR095" H 9300 1950 50  0001 C CNN
F 1 "+3.3V" H 9300 2240 50  0000 C CNN
F 2 "" H 9300 2100 50  0001 C CNN
F 3 "" H 9300 2100 50  0001 C CNN
	1    9300 2100
	1    0    0    -1  
$EndComp
$Comp
L C_Small C9
U 1 1 5A28A528
P 9700 2200
F 0 "C9" H 9800 2250 50  0000 L CNN
F 1 "100nF" H 9800 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 9700 2200 50  0001 C CNN
F 3 "" H 9700 2200 50  0001 C CNN
	1    9700 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR096
U 1 1 5A28A52E
P 9700 2300
F 0 "#PWR096" H 9700 2050 50  0001 C CNN
F 1 "GND" H 9700 2150 50  0000 C CNN
F 2 "" H 9700 2300 50  0001 C CNN
F 3 "" H 9700 2300 50  0001 C CNN
	1    9700 2300
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR097
U 1 1 5A28A534
P 9700 2100
F 0 "#PWR097" H 9700 1950 50  0001 C CNN
F 1 "+3.3V" H 9700 2240 50  0000 C CNN
F 2 "" H 9700 2100 50  0001 C CNN
F 3 "" H 9700 2100 50  0001 C CNN
	1    9700 2100
	1    0    0    -1  
$EndComp
Text HLabel 12500 6000 2    60   Output ~ 0
SPI_MOSI
Text HLabel 12500 5800 2    60   Output ~ 0
SPI_SCLK
Text HLabel 12500 5900 2    60   Output ~ 0
LCD_LIGHT
Text HLabel 12500 5600 2    60   Output ~ 0
LCD_DC
Text HLabel 12500 5700 2    60   Output ~ 0
LCD_CS
Text HLabel 3800 5300 0    60   Output ~ 0
LCD_RESET
Wire Wire Line
	10900 3400 11800 3400
Wire Wire Line
	10900 3700 11700 3700
Wire Wire Line
	10900 3800 11800 3800
Wire Wire Line
	10900 3900 11800 3900
Entry Wire Line
	11800 3400 11900 3300
Wire Wire Line
	11600 3300 11600 2700
Wire Wire Line
	11600 2700 11800 2700
Wire Wire Line
	10900 3300 11600 3300
Entry Wire Line
	11800 2700 11900 2600
Wire Wire Line
	11700 3700 11700 2800
Wire Wire Line
	11700 2800 11800 2800
Entry Wire Line
	11800 2800 11900 2700
Entry Wire Line
	11800 3800 11900 3700
Entry Wire Line
	11800 3900 11900 3800
Wire Bus Line
	11900 2200 11900 4500
Wire Bus Line
	11900 2200 12500 2200
Entry Wire Line
	11800 4400 11900 4500
Wire Wire Line
	10900 4400 11800 4400
Text HLabel 12500 2200 2    60   Output ~ 0
COL[1..6]
Wire Wire Line
	12500 5600 10900 5600
Wire Wire Line
	10900 5700 12500 5700
Wire Wire Line
	10900 5800 12500 5800
Wire Wire Line
	10900 5900 12500 5900
Wire Wire Line
	10900 6000 12500 6000
Wire Wire Line
	5100 5300 3800 5300
$Comp
L C_Small C12
U 1 1 5A2F35ED
P 3600 3700
F 0 "C12" H 3700 3750 50  0000 L CNN
F 1 "2.2uF" H 3700 3650 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 3600 3700 50  0001 C CNN
F 3 "" H 3600 3700 50  0001 C CNN
	1    3600 3700
	1    0    0    -1  
$EndComp
$Comp
L C_Small C10
U 1 1 5A2F3727
P 2800 3700
F 0 "C10" H 2900 3750 50  0000 L CNN
F 1 "2.2uF" H 2900 3650 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 2800 3700 50  0001 C CNN
F 3 "" H 2800 3700 50  0001 C CNN
	1    2800 3700
	1    0    0    -1  
$EndComp
$Comp
L C_Small C11
U 1 1 5A2F37E4
P 3200 3700
F 0 "C11" H 3300 3750 50  0000 L CNN
F 1 "100nF" H 3300 3650 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 3200 3700 50  0001 C CNN
F 3 "" H 3200 3700 50  0001 C CNN
	1    3200 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 4000 5100 4000
Wire Wire Line
	5100 4100 2700 4100
$Comp
L GND #PWR098
U 1 1 5A2F3D79
P 3600 3800
F 0 "#PWR098" H 3600 3550 50  0001 C CNN
F 1 "GND" H 3600 3650 50  0000 C CNN
F 2 "" H 3600 3800 50  0001 C CNN
F 3 "" H 3600 3800 50  0001 C CNN
	1    3600 3800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR099
U 1 1 5A2F3DA2
P 3200 3800
F 0 "#PWR099" H 3200 3550 50  0001 C CNN
F 1 "GND" H 3200 3650 50  0000 C CNN
F 2 "" H 3200 3800 50  0001 C CNN
F 3 "" H 3200 3800 50  0001 C CNN
	1    3200 3800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0100
U 1 1 5A2F3DCB
P 2800 3800
F 0 "#PWR0100" H 2800 3550 50  0001 C CNN
F 1 "GND" H 2800 3650 50  0000 C CNN
F 2 "" H 2800 3800 50  0001 C CNN
F 3 "" H 2800 3800 50  0001 C CNN
	1    2800 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 3500 3600 3500
Wire Wire Line
	3600 3500 3600 3600
Wire Wire Line
	5100 3400 3200 3400
Wire Wire Line
	3200 3200 3200 3600
Wire Wire Line
	5100 3300 2800 3300
Wire Wire Line
	2800 3200 2800 3600
$Comp
L +3.3V #PWR0101
U 1 1 5A2F429D
P 3200 3200
F 0 "#PWR0101" H 3200 3050 50  0001 C CNN
F 1 "+3.3V" H 3200 3340 50  0000 C CNN
F 2 "" H 3200 3200 50  0001 C CNN
F 3 "" H 3200 3200 50  0001 C CNN
	1    3200 3200
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR0102
U 1 1 5A2F42C6
P 2800 3200
F 0 "#PWR0102" H 2800 3050 50  0001 C CNN
F 1 "+3.3V" H 2800 3340 50  0000 C CNN
F 2 "" H 2800 3200 50  0001 C CNN
F 3 "" H 2800 3200 50  0001 C CNN
	1    2800 3200
	1    0    0    -1  
$EndComp
Connection ~ 3200 3400
Connection ~ 2800 3300
$Comp
L R_Small R33
U 1 1 5A2F4A70
P 4800 3700
F 0 "R33" H 4850 3750 50  0000 L CNN
F 1 "10K" H 4850 3650 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 4800 3700 50  0001 C CNN
F 3 "" H 4800 3700 50  0001 C CNN
	1    4800 3700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0103
U 1 1 5A2F4B85
P 4800 3800
F 0 "#PWR0103" H 4800 3550 50  0001 C CNN
F 1 "GND" H 4800 3650 50  0000 C CNN
F 2 "" H 4800 3800 50  0001 C CNN
F 3 "" H 4800 3800 50  0001 C CNN
	1    4800 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 3100 4800 3100
Wire Wire Line
	4800 2800 4800 3600
$Comp
L SW_Push SW21
U 1 1 5A2F4CBE
P 4800 2600
F 0 "SW21" V 4950 2400 50  0000 L CNN
F 1 "SW_Push" H 4800 2540 50  0001 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_PTS645" H 4800 2800 50  0001 C CNN
F 3 "" H 4800 2800 50  0001 C CNN
	1    4800 2600
	0    -1   -1   0   
$EndComp
$Comp
L SW_Push SW22
U 1 1 5A2F4DBB
P 4200 2900
F 0 "SW22" H 4150 2800 50  0000 L CNN
F 1 "SW_Push" H 4200 2840 50  0001 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_PTS645" H 4200 3100 50  0001 C CNN
F 3 "" H 4200 3100 50  0001 C CNN
	1    4200 2900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0104
U 1 1 5A2F5074
P 4000 3800
F 0 "#PWR0104" H 4000 3550 50  0001 C CNN
F 1 "GND" H 4000 3650 50  0000 C CNN
F 2 "" H 4000 3800 50  0001 C CNN
F 3 "" H 4000 3800 50  0001 C CNN
	1    4000 3800
	1    0    0    -1  
$EndComp
Connection ~ 4800 3100
Wire Wire Line
	4400 2900 5100 2900
$Comp
L +3.3V #PWR0105
U 1 1 5A2F5459
P 4800 2300
F 0 "#PWR0105" H 4800 2150 50  0001 C CNN
F 1 "+3.3V" H 4800 2440 50  0000 C CNN
F 2 "" H 4800 2300 50  0001 C CNN
F 3 "" H 4800 2300 50  0001 C CNN
	1    4800 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 2300 4800 2400
$Comp
L Crystal Y1
U 1 1 5A2F6493
P 2450 4300
F 0 "Y1" H 2450 4450 50  0000 C CNN
F 1 "8MHz" H 2450 4150 50  0000 C CNN
F 2 "Oscillators:Oscillator_SMD_EuroQuartz_XO53-4pin_5.0x3.2mm_HandSoldering" H 2450 4300 50  0001 C CNN
F 3 "" H 2450 4300 50  0001 C CNN
	1    2450 4300
	1    0    0    -1  
$EndComp
$Comp
L C_Small C14
U 1 1 5A2F66FC
P 2200 4600
F 0 "C14" H 2300 4650 50  0000 L CNN
F 1 "27pF" H 2300 4550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 2200 4600 50  0001 C CNN
F 3 "" H 2200 4600 50  0001 C CNN
	1    2200 4600
	1    0    0    -1  
$EndComp
$Comp
L C_Small C15
U 1 1 5A2F682E
P 2700 4600
F 0 "C15" H 2800 4650 50  0000 L CNN
F 1 "27pF" H 2800 4550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 2700 4600 50  0001 C CNN
F 3 "" H 2700 4600 50  0001 C CNN
	1    2700 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 4000 2200 4500
Wire Wire Line
	2300 4300 2200 4300
Connection ~ 2200 4300
Wire Wire Line
	2600 4300 2700 4300
Wire Wire Line
	2700 4100 2700 4500
Connection ~ 2700 4300
$Comp
L GND #PWR0106
U 1 1 5A2F6B88
P 2700 4800
F 0 "#PWR0106" H 2700 4550 50  0001 C CNN
F 1 "GND" H 2700 4650 50  0000 C CNN
F 2 "" H 2700 4800 50  0001 C CNN
F 3 "" H 2700 4800 50  0001 C CNN
	1    2700 4800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0107
U 1 1 5A2F6BC6
P 2200 4800
F 0 "#PWR0107" H 2200 4550 50  0001 C CNN
F 1 "GND" H 2200 4650 50  0000 C CNN
F 2 "" H 2200 4800 50  0001 C CNN
F 3 "" H 2200 4800 50  0001 C CNN
	1    2200 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 4700 2700 4800
Wire Wire Line
	2200 4700 2200 4800
$Comp
L C_Small C13
U 1 1 5A2F7C3E
P 4400 3700
F 0 "C13" H 4500 3750 50  0000 L CNN
F 1 "100nF" H 4500 3650 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4400 3700 50  0001 C CNN
F 3 "" H 4400 3700 50  0001 C CNN
	1    4400 3700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0108
U 1 1 5A2F8236
P 4400 3800
F 0 "#PWR0108" H 4400 3550 50  0001 C CNN
F 1 "GND" H 4400 3650 50  0000 C CNN
F 2 "" H 4400 3800 50  0001 C CNN
F 3 "" H 4400 3800 50  0001 C CNN
	1    4400 3800
	1    0    0    -1  
$EndComp
Connection ~ 4400 2900
$Comp
L C_Small C4
U 1 1 5A333398
P 6950 2200
F 0 "C4" H 7050 2250 50  0000 L CNN
F 1 "2.2uF" H 7050 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 6950 2200 50  0001 C CNN
F 3 "" H 6950 2200 50  0001 C CNN
	1    6950 2200
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR0109
U 1 1 5A333659
P 6950 2100
F 0 "#PWR0109" H 6950 1950 50  0001 C CNN
F 1 "+3.3V" H 6950 2240 50  0000 C CNN
F 2 "" H 6950 2100 50  0001 C CNN
F 3 "" H 6950 2100 50  0001 C CNN
	1    6950 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0110
U 1 1 5A33369D
P 6950 2300
F 0 "#PWR0110" H 6950 2050 50  0001 C CNN
F 1 "GND" H 6950 2150 50  0000 C CNN
F 2 "" H 6950 2300 50  0001 C CNN
F 3 "" H 6950 2300 50  0001 C CNN
	1    6950 2300
	1    0    0    -1  
$EndComp
$Comp
L C_Small C5
U 1 1 5A333704
P 7400 2200
F 0 "C5" H 7500 2250 50  0000 L CNN
F 1 "2.2uF" H 7500 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 7400 2200 50  0001 C CNN
F 3 "" H 7400 2200 50  0001 C CNN
	1    7400 2200
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR0111
U 1 1 5A33370A
P 7400 2100
F 0 "#PWR0111" H 7400 1950 50  0001 C CNN
F 1 "+3.3V" H 7400 2240 50  0000 C CNN
F 2 "" H 7400 2100 50  0001 C CNN
F 3 "" H 7400 2100 50  0001 C CNN
	1    7400 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0112
U 1 1 5A333710
P 7400 2300
F 0 "#PWR0112" H 7400 2050 50  0001 C CNN
F 1 "GND" H 7400 2150 50  0000 C CNN
F 2 "" H 7400 2300 50  0001 C CNN
F 3 "" H 7400 2300 50  0001 C CNN
	1    7400 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 2900 4000 3800
Wire Wire Line
	4400 3600 4400 2900
NoConn ~ 13800 3200
Text HLabel 2800 8300 0    60   Input ~ 0
MIDI_IN_SRC
Text HLabel 2800 8700 0    60   Input ~ 0
MIDI_IN_SINK
Text HLabel 2800 6900 0    60   Output ~ 0
MIDI_OUT_SRC
Text HLabel 2800 7300 0    60   Output ~ 0
MIDI_OUT_SINK
$Comp
L R_Small R42
U 1 1 5A305F4B
P 3100 6650
F 0 "R42" H 2900 6700 50  0000 L CNN
F 1 "220" H 2900 6600 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 3100 6650 50  0001 C CNN
F 3 "" H 3100 6650 50  0001 C CNN
	1    3100 6650
	1    0    0    -1  
$EndComp
$Comp
L R_Small R43
U 1 1 5A30698E
P 3100 7300
F 0 "R43" V 3000 7250 50  0000 L CNN
F 1 "220" V 3200 7250 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 3100 7300 50  0001 C CNN
F 3 "" H 3100 7300 50  0001 C CNN
	1    3100 7300
	0    1    1    0   
$EndComp
$Comp
L 2N7002 Q34
U 1 1 5A3076A5
P 3500 7600
F 0 "Q34" H 3700 7650 50  0000 L CNN
F 1 "NX7002AK" H 3700 7550 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 3700 7525 50  0001 L CIN
F 3 "" H 3500 7600 50  0001 L CNN
	1    3500 7600
	-1   0    0    -1  
$EndComp
$Comp
L R_Small R44
U 1 1 5A3076AC
P 3800 7800
F 0 "R44" H 3600 7850 50  0000 L CNN
F 1 "10K" H 3600 7750 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 3800 7800 50  0001 C CNN
F 3 "" H 3800 7800 50  0001 C CNN
	1    3800 7800
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR0113
U 1 1 5A3076B3
P 3400 7950
F 0 "#PWR0113" H 3400 7700 50  0001 C CNN
F 1 "GND" H 3400 7800 50  0000 C CNN
F 2 "" H 3400 7950 50  0001 C CNN
F 3 "" H 3400 7950 50  0001 C CNN
	1    3400 7950
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR0114
U 1 1 5A3076B9
P 3800 7950
F 0 "#PWR0114" H 3800 7700 50  0001 C CNN
F 1 "GND" H 3800 7800 50  0000 C CNN
F 2 "" H 3800 7950 50  0001 C CNN
F 3 "" H 3800 7950 50  0001 C CNN
	1    3800 7950
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3700 7600 4900 7600
Wire Wire Line
	3800 7600 3800 7700
Wire Wire Line
	3800 7900 3800 7950
Wire Wire Line
	3400 7800 3400 7950
Connection ~ 3800 7600
Wire Wire Line
	3200 7300 3400 7300
Wire Wire Line
	3400 7300 3400 7400
Wire Wire Line
	2800 6900 3400 6900
Wire Wire Line
	2800 7300 3000 7300
$Comp
L +5V #PWR0115
U 1 1 5A307F4F
P 3100 6500
F 0 "#PWR0115" H 3100 6350 50  0001 C CNN
F 1 "+5V" H 3100 6640 50  0000 C CNN
F 2 "" H 3100 6500 50  0001 C CNN
F 3 "" H 3100 6500 50  0001 C CNN
	1    3100 6500
	1    0    0    -1  
$EndComp
$Comp
L LL4148 D158
U 1 1 5A30A456
P 3400 8500
F 0 "D158" V 3350 8700 50  0000 C CNN
F 1 "LL4148" V 3450 8750 50  0000 C CNN
F 2 "Diodes_SMD:D_MiniMELF" H 3400 8325 50  0001 C CNN
F 3 "" H 3400 8500 50  0001 C CNN
	1    3400 8500
	0    1    1    0   
$EndComp
$Comp
L LTV-357T U7
U 1 1 5A30A9D6
P 4200 8500
F 0 "U7" H 3990 8690 50  0000 L CNN
F 1 "LTV-357T" H 4000 8300 50  0000 L CNN
F 2 "ProjectLib:DIP4-smd" H 4000 8300 50  0001 L CIN
F 3 "" H 4200 8500 50  0001 L CNN
	1    4200 8500
	1    0    0    -1  
$EndComp
$Comp
L R_Small R46
U 1 1 5A30B2F7
P 3100 8300
F 0 "R46" V 3000 8200 50  0000 L CNN
F 1 "220" V 3200 8200 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 3100 8300 50  0001 C CNN
F 3 "" H 3100 8300 50  0001 C CNN
	1    3100 8300
	0    1    1    0   
$EndComp
Wire Wire Line
	3200 8300 3800 8300
Wire Wire Line
	3400 8300 3400 8350
Wire Wire Line
	3900 8400 3800 8400
Wire Wire Line
	3800 8400 3800 8300
Connection ~ 3400 8300
Wire Wire Line
	3900 8600 3800 8600
Wire Wire Line
	3800 8600 3800 8700
Wire Wire Line
	3800 8700 2800 8700
Wire Wire Line
	3400 8650 3400 8700
Connection ~ 3400 8700
Wire Wire Line
	4500 8400 5000 8400
Wire Wire Line
	4600 8400 4600 8300
Wire Wire Line
	4500 8600 4600 8600
Wire Wire Line
	4600 8600 4600 8700
$Comp
L GND #PWR0116
U 1 1 5A30BBA2
P 4600 8700
F 0 "#PWR0116" H 4600 8450 50  0001 C CNN
F 1 "GND" H 4600 8550 50  0000 C CNN
F 2 "" H 4600 8700 50  0001 C CNN
F 3 "" H 4600 8700 50  0001 C CNN
	1    4600 8700
	-1   0    0    -1  
$EndComp
$Comp
L R_Small R45
U 1 1 5A30BBFB
P 4600 8200
F 0 "R45" H 4400 8150 50  0000 L CNN
F 1 "220" H 4400 8250 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 4600 8200 50  0001 C CNN
F 3 "" H 4600 8200 50  0001 C CNN
	1    4600 8200
	-1   0    0    1   
$EndComp
$Comp
L +3.3V #PWR0117
U 1 1 5A30BED5
P 4600 8100
F 0 "#PWR0117" H 4600 7950 50  0001 C CNN
F 1 "+3.3V" H 4600 8240 50  0000 C CNN
F 2 "" H 4600 8100 50  0001 C CNN
F 3 "" H 4600 8100 50  0001 C CNN
	1    4600 8100
	1    0    0    -1  
$EndComp
Connection ~ 4600 8400
Wire Wire Line
	3000 8300 2800 8300
Wire Wire Line
	5000 8400 5000 5200
Wire Wire Line
	4900 7600 4900 5100
Wire Wire Line
	5000 5200 5100 5200
Wire Wire Line
	4900 5100 5100 5100
Wire Wire Line
	3100 6500 3100 6550
Wire Wire Line
	3100 6750 3100 6900
$Comp
L R_Small R47
U 1 1 5A33263D
P 3400 6650
F 0 "R47" H 3200 6700 50  0000 L CNN
F 1 "47" H 3200 6600 50  0000 L CNN
F 2 "Resistors_SMD:R_0603" H 3400 6650 50  0001 C CNN
F 3 "" H 3400 6650 50  0001 C CNN
	1    3400 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 6500 3400 6550
Wire Wire Line
	3400 6900 3400 6750
Connection ~ 3100 6900
$Comp
L +3.3V #PWR0118
U 1 1 5A332DF8
P 3400 6500
F 0 "#PWR0118" H 3400 6350 50  0001 C CNN
F 1 "+3.3V" H 3400 6640 50  0000 C CNN
F 2 "" H 3400 6500 50  0001 C CNN
F 3 "" H 3400 6500 50  0001 C CNN
	1    3400 6500
	1    0    0    -1  
$EndComp
Text Notes 3500 6800 0    60   ~ 0
Assemble either\nR42 or R47,\nnot both
Text Label 12000 2200 0    60   ~ 0
COL[1..6]
Text Label 12350 2800 0    60   ~ 0
PWM_RED[1..4]
Text Label 12350 3400 0    60   ~ 0
PWM_GREEN[1..4]
Text Label 12350 5100 0    60   ~ 0
PWM_BLUE[1..4]
Text Label 3850 4400 0    60   ~ 0
GRID_BUTTON[1..4]
Text HLabel 2800 7100 0    60   Input ~ 0
MIDI_OUT_DETECT
Wire Wire Line
	2800 7100 4800 7100
Wire Wire Line
	4800 7100 4800 5400
Wire Wire Line
	4800 5400 5100 5400
Text Label 11000 4000 0    60   ~ 0
USB_M
Text Label 11000 4100 0    60   ~ 0
USB_P
Text Label 4850 2900 0    60   ~ 0
NRST
Text Label 4850 3100 0    60   ~ 0
BOOT
Text Label 4850 3500 0    60   ~ 0
VCAP
Text Label 2200 4000 0    60   ~ 0
XTAL1
Text Label 2700 4100 0    60   ~ 0
XTAL2
Text Label 4900 6500 1    60   ~ 0
UART_TX
Text Label 5000 6500 1    60   ~ 0
UART_RX
$EndSCHEMATC
